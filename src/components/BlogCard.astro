---
interface Props {
  title: string;
  excerpt: string;
  url: string;
  image: string;
  date: string;
  category?: string;
  index?: number;
}

const {
  title,
  excerpt,
  url,
  image,
  date,
  category,
  index = 0
} = Astro.props;

const delayClass = `animate-delay-${(index % 5) + 1}`;
---

<article class={`blog-card animate-on-scroll ${delayClass}`}>
  <img
    src={image}
    alt={title}
    class="blog-card-image"
    onerror="this.src='https://via.placeholder.com/200x140/1a1a25/c9a227?text=Blog'"
    loading="lazy"
  />
  <div class="blog-card-content">
    <time class="blog-card-date">
      <i class="bi bi-calendar3 me-1"></i>{date}
      {category && (
        <span class="ms-3"><i class="bi bi-tag me-1"></i>{category}</span>
      )}
    </time>
    <h3 class="blog-card-title">{title}</h3>
    <p class="blog-card-excerpt">{excerpt}</p>
    <a href={url} target="_blank" rel="noopener" class="blog-card-link">
      Read More <i class="bi bi-arrow-right"></i>
    </a>
  </div>
</article>
